(kicad_pcb (version 20211014) (generator pcbnew)

  (general
    (thickness 1.6)
  )

  (paper "A4")
  (title "AirScout-M v1 - AirShed Intelligence")
  (date "2025-01-14")
  (rev "1.0")
  (company "AirShed Intelligence")
  (comment 1 "Mobile Air Quality Monitor for Indian Cities")
  (comment 2 "Designed for Extreme Weather Conditions")
  
  (layers
    (0 "F.Cu" signal)
    (1 "In1.Cu" signal)
    (2 "In2.Cu" signal)
    (31 "B.Cu" signal)
    (32 "B.Adhes" user "B.Adhesive")
    (33 "F.Adhes" user "F.Adhesive")
    (34 "B.Paste" user)
    (35 "F.Paste" user)
    (36 "B.SilkS" user "B.Silkscreen")
    (37 "F.SilkS" user "F.Silkscreen")
    (38 "B.Mask" user)
    (39 "F.Mask" user)
    (40 "Dwgs.User" user "User.Drawings")
    (41 "Cmts.User" user "User.Comments")
    (42 "Eco1.User" user "User.Eco1")
    (43 "Eco2.User" user "User.Eco2")
    (44 "Edge.Cuts" user)
    (45 "Margin" user)
    (46 "B.CrtYd" user "B.Courtyard")
    (47 "F.CrtYd" user "F.Courtyard")
    (48 "B.Fab" user)
    (49 "F.Fab" user)
  )

  (setup
    (stackup
      (layer "F.SilkS" (type "Top Silk Screen"))
      (layer "F.Paste" (type "Top Solder Paste"))
      (layer "F.Mask" (type "Top Solder Mask") (thickness 0.01))
      (layer "F.Cu" (type "copper") (thickness 0.035))
      (layer "dielectric 1" (type "prepreg") (thickness 0.1) (material "FR4") (epsilon_r 4.5) (loss_tangent 0.02))
      (layer "In1.Cu" (type "copper") (thickness 0.035))
      (layer "dielectric 2" (type "core") (thickness 1.24) (material "FR4") (epsilon_r 4.5) (loss_tangent 0.02))
      (layer "In2.Cu" (type "copper") (thickness 0.035))
      (layer "dielectric 3" (type "prepreg") (thickness 0.1) (material "FR4") (epsilon_r 4.5) (loss_tangent 0.02))
      (layer "B.Cu" (type "copper") (thickness 0.035))
      (layer "B.Mask" (type "Bottom Solder Mask") (thickness 0.01))
      (layer "B.Paste" (type "Bottom Solder Paste"))
      (layer "B.SilkS" (type "Bottom Silk Screen"))
    )
    (pad_to_mask_clearance 0.051)
    (solder_mask_min_width 0.25)
    (pcbplotparams
      (layerselection 0x00010fc_ffffffff)
      (disableapertmacros false)
      (usegerberextensions false)
      (usegerberattributes false)
      (usegerberadvancedattributes false)
      (creategerberjobfile false)
      (svguseinch false)
      (svgprecision 6)
      (excludeedgelayer true)
      (plotframeref false)
      (viasonmask false)
      (mode 1)
      (useauxorigin false)
      (hpglpennumber 1)
      (hpglpenspeed 20)
      (hpglpendiameter 15.000000)
      (dxfpolygonmode true)
      (dxfimperialunits true)
      (dxfusepcbnewfont true)
      (psnegative false)
      (psa4output false)
      (plotreference true)
      (plotvalue true)
      (plotinvisibletext false)
      (sketchpadsonfab false)
      (subtractmaskfromsilk false)
      (outputformat 1)
      (mirror false)
      (drillshape 1)
      (scaleselection 1)
      (outputdirectory "")
    )
  )

  (net 0 "")
  (net 1 "GND")
  (net 2 "VCC_3V3")
  (net 3 "VCC_5V")
  (net 4 "VCC_12V")
  (net 5 "SDA")
  (net 6 "SCL")
  (net 7 "TX1")
  (net 8 "RX1")
  (net 9 "TX2")
  (net 10 "RX2")
  (net 11 "MOSI")
  (net 12 "MISO")
  (net 13 "SCK")
  (net 14 "CS_SD")
  (net 15 "CS_LORA")
  (net 16 "LORA_RST")
  (net 17 "LORA_DIO0")
  (net 18 "LED_R")
  (net 19 "LED_G")
  (net 20 "LED_B")
  (net 21 "BUZZER")
  (net 22 "TOUCH_BTN")
  (net 23 "UV_SENSOR")
  (net 24 "BATT_MON")
  (net 25 "SENSOR_PWR_EN")

  (net_class "Default" "This is the default net class."
    (clearance 0.2)
    (trace_width 0.25)
    (via_dia 0.8)
    (via_drill 0.4)
    (uvia_dia 0.3)
    (uvia_drill 0.1)
    (add_net "GND")
    (add_net "VCC_3V3")
    (add_net "VCC_5V")
  )

  (net_class "Power" "Power traces"
    (clearance 0.25)
    (trace_width 0.5)
    (via_dia 1.0)
    (via_drill 0.5)
    (add_net "VCC_12V")
  )

  ; Board outline (80mm x 100mm)
  (gr_rect (start 10 10) (end 90 110) (layer "Edge.Cuts") (width 0.1) (fill none))

  ; Mounting holes (M3)
  (footprint "MountingHole:MountingHole_3.2mm_M3" (layer "F.Cu")
    (at 15 15)
    (fp_circle (center 0 0) (end 3.2 0) (layer "F.CrtYd") (width 0.05) (fill none))
    (pad "" np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers *.Cu *.Mask))
  )

  (footprint "MountingHole:MountingHole_3.2mm_M3" (layer "F.Cu")
    (at 85 15)
    (fp_circle (center 0 0) (end 3.2 0) (layer "F.CrtYd") (width 0.05) (fill none))
    (pad "" np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers *.Cu *.Mask))
  )

  (footprint "MountingHole:MountingHole_3.2mm_M3" (layer "F.Cu")
    (at 15 105)
    (fp_circle (center 0 0) (end 3.2 0) (layer "F.CrtYd") (width 0.05) (fill none))
    (pad "" np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers *.Cu *.Mask))
  )

  (footprint "MountingHole:MountingHole_3.2mm_M3" (layer "F.Cu")
    (at 85 105)
    (fp_circle (center 0 0) (end 3.2 0) (layer "F.CrtYd") (width 0.05) (fill none))
    (pad "" np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers *.Cu *.Mask))
  )

  ; ESP32-WROOM-32D Module
  (footprint "RF_Module:ESP32-WROOM-32" (layer "F.Cu")
    (at 50 40 0)
    (descr "ESP32-WROOM-32D WiFi+BT Module")
    (tags "ESP32 WiFi Bluetooth")
    (fp_text reference "U1" (at 0 -10) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "ESP32-WROOM-32D" (at 0 11) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (fp_rect (start -9 -9.75) (end 9 9.75) (layer "F.CrtYd") (width 0.05) (fill none))
    (pad "1" smd rect (at -9 -8.255) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "2" smd rect (at -9 -6.985) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 2 "VCC_3V3"))
    (pad "3" smd rect (at -9 -5.715) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "4" smd rect (at -9 -4.445) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "5" smd rect (at -9 -3.175) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 25 "SENSOR_PWR_EN"))
    (pad "6" smd rect (at -9 -1.905) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "7" smd rect (at -9 -0.635) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 16 "LORA_RST"))
    (pad "8" smd rect (at -9 0.635) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "9" smd rect (at -9 1.905) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 15 "CS_LORA"))
    (pad "10" smd rect (at -9 3.175) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 14 "CS_SD"))
    (pad "11" smd rect (at -9 4.445) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "12" smd rect (at -9 5.715) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 18 "LED_R"))
    (pad "13" smd rect (at -9 6.985) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 19 "LED_G"))
    (pad "14" smd rect (at -9 8.255) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 20 "LED_B"))
    (pad "15" smd rect (at -5.715 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "16" smd rect (at -4.445 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask") (net 22 "TOUCH_BTN"))
    (pad "17" smd rect (at -3.175 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask") (net 8 "RX1"))
    (pad "18" smd rect (at -1.905 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask") (net 7 "TX1"))
    (pad "19" smd rect (at -0.635 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask") (net 13 "SCK"))
    (pad "20" smd rect (at 0.635 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask") (net 12 "MISO"))
    (pad "21" smd rect (at 1.905 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "22" smd rect (at 3.175 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask") (net 5 "SDA"))
    (pad "23" smd rect (at 4.445 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask") (net 6 "SCL"))
    (pad "24" smd rect (at 5.715 9.75) (size 0.9 1.5) (layers "F.Cu" "F.Paste" "F.Mask") (net 11 "MOSI"))
    (pad "25" smd rect (at 9 8.255) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 9 "TX2"))
    (pad "26" smd rect (at 9 6.985) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 10 "RX2"))
    (pad "27" smd rect (at 9 5.715) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 21 "BUZZER"))
    (pad "28" smd rect (at 9 4.445) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "29" smd rect (at 9 3.175) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "30" smd rect (at 9 1.905) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "31" smd rect (at 9 0.635) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "32" smd rect (at 9 -0.635) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "33" smd rect (at 9 -1.905) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "34" smd rect (at 9 -3.175) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 23 "UV_SENSOR"))
    (pad "35" smd rect (at 9 -4.445) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 24 "BATT_MON"))
    (pad "36" smd rect (at 9 -5.715) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "37" smd rect (at 9 -6.985) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "38" smd rect (at 9 -8.255) (size 1.5 0.9) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "39" smd rect (at 0 0) (size 6 6) (layers "F.Cu" "F.Mask") (net 1 "GND"))
  )

  ; PMS5003 Connector (JST 1.25mm 8-pin)
  (footprint "Connector_JST:JST_SH_SM08B-SRSS-TB_1x08-1MP_P1.00mm" (layer "F.Cu")
    (at 25 70 0)
    (descr "JST SH 8-pin for PMS5003")
    (fp_text reference "J1" (at 0 -3) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "PMS5003" (at 0 3) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" smd rect (at -3.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 3 "VCC_5V"))
    (pad "2" smd rect (at -2.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 3 "VCC_5V"))
    (pad "3" smd rect (at -1.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "4" smd rect (at -0.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "5" smd rect (at 0.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "6" smd rect (at 1.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "7" smd rect (at 2.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 7 "TX1"))
    (pad "8" smd rect (at 3.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 8 "RX1"))
  )

  ; I2C Sensor Connector (JST 1.25mm 4-pin for SCD30/BME680)
  (footprint "Connector_JST:JST_SH_SM04B-SRSS-TB_1x04-1MP_P1.00mm" (layer "F.Cu")
    (at 75 70 0)
    (descr "JST SH 4-pin for I2C sensors")
    (fp_text reference "J2" (at 0 -3) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "I2C_SENSORS" (at 0 3) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" smd rect (at -1.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 2 "VCC_3V3"))
    (pad "2" smd rect (at -0.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "3" smd rect (at 0.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 5 "SDA"))
    (pad "4" smd rect (at 1.5 0) (size 0.6 1.55) (layers "F.Cu" "F.Paste" "F.Mask") (net 6 "SCL"))
  )

  ; LoRa Module (RFM95W)
  (footprint "RF_Module:HOPERF_RFM9XW" (layer "F.Cu")
    (at 25 25 0)
    (descr "LoRa Module RFM95W")
    (fp_text reference "U2" (at 0 -9) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "RFM95W" (at 0 9) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" smd rect (at -8 -7) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "2" smd rect (at -8 -5) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 12 "MISO"))
    (pad "3" smd rect (at -8 -3) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 11 "MOSI"))
    (pad "4" smd rect (at -8 -1) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 13 "SCK"))
    (pad "5" smd rect (at -8 1) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 15 "CS_LORA"))
    (pad "6" smd rect (at -8 3) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 16 "LORA_RST"))
    (pad "7" smd rect (at -8 5) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 17 "LORA_DIO0"))
    (pad "8" smd rect (at -8 7) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "9" smd rect (at 8 7) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "10" smd rect (at 8 5) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "11" smd rect (at 8 3) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "12" smd rect (at 8 1) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "13" smd rect (at 8 -1) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 2 "VCC_3V3"))
    (pad "14" smd rect (at 8 -3) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "15" smd rect (at 8 -5) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "16" smd rect (at 8 -7) (size 2 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
  )

  ; SIM800L Module Connector
  (footprint "Connector_PinHeader_2.54mm:PinHeader_2x06_P2.54mm" (layer "F.Cu")
    (at 75 25 0)
    (descr "SIM800L GSM Module")
    (fp_text reference "J3" (at 0 -8) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "SIM800L" (at 0 8) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" thru_hole circle (at 0 0) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask) (net 3 "VCC_5V"))
    (pad "2" thru_hole circle (at 2.54 0) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask) (net 1 "GND"))
    (pad "3" thru_hole circle (at 0 2.54) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask) (net 9 "TX2"))
    (pad "4" thru_hole circle (at 2.54 2.54) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask) (net 10 "RX2"))
    (pad "5" thru_hole circle (at 0 5.08) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask))
    (pad "6" thru_hole circle (at 2.54 5.08) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask))
  )

  ; Power Input Connector (12V Vehicle)
  (footprint "Connector_BarrelJack:BarrelJack_Horizontal" (layer "F.Cu")
    (at 50 95 0)
    (descr "DC Barrel Jack")
    (fp_text reference "J4" (at 0 -5) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "12V_IN" (at 0 5) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" thru_hole rect (at 0 0) (size 3.5 3.5) (drill 1.3) (layers *.Cu *.Mask) (net 4 "VCC_12V"))
    (pad "2" thru_hole circle (at -4.7 0) (size 3.5 3.5) (drill 1.3) (layers *.Cu *.Mask) (net 1 "GND"))
    (pad "3" thru_hole circle (at -1.7 -4.8) (size 3.5 3.5) (drill 1.3) (layers *.Cu *.Mask) (net 1 "GND"))
  )

  ; Buck Converter LM2596 Module placeholder
  (footprint "Converter_DCDC:Converter_DCDC_Generic" (layer "F.Cu")
    (at 25 90 0)
    (descr "LM2596 Buck Converter 12V to 5V")
    (fp_text reference "U3" (at 0 -6) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "LM2596_5V" (at 0 6) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" thru_hole circle (at -5 -3) (size 2 2) (drill 1.0) (layers *.Cu *.Mask) (net 4 "VCC_12V"))
    (pad "2" thru_hole circle (at -5 3) (size 2 2) (drill 1.0) (layers *.Cu *.Mask) (net 1 "GND"))
    (pad "3" thru_hole circle (at 5 -3) (size 2 2) (drill 1.0) (layers *.Cu *.Mask) (net 3 "VCC_5V"))
    (pad "4" thru_hole circle (at 5 3) (size 2 2) (drill 1.0) (layers *.Cu *.Mask) (net 1 "GND"))
  )

  ; Buck Converter MP1584 Module placeholder
  (footprint "Converter_DCDC:Converter_DCDC_Generic" (layer "F.Cu")
    (at 75 90 0)
    (descr "MP1584 Buck Converter 5V to 3.3V")
    (fp_text reference "U4" (at 0 -6) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "MP1584_3V3" (at 0 6) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" thru_hole circle (at -5 -3) (size 2 2) (drill 1.0) (layers *.Cu *.Mask) (net 3 "VCC_5V"))
    (pad "2" thru_hole circle (at -5 3) (size 2 2) (drill 1.0) (layers *.Cu *.Mask) (net 1 "GND"))
    (pad "3" thru_hole circle (at 5 -3) (size 2 2) (drill 1.0) (layers *.Cu *.Mask) (net 2 "VCC_3V3"))
    (pad "4" thru_hole circle (at 5 3) (size 2 2) (drill 1.0) (layers *.Cu *.Mask) (net 1 "GND"))
  )

  ; SD Card Module
  (footprint "Connector_Card:microSD_HC_Molex" (layer "F.Cu")
    (at 50 60 0)
    (descr "MicroSD Card Holder")
    (fp_text reference "J5" (at 0 -8) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "MicroSD" (at 0 8) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" smd rect (at -3.2 -5.5) (size 0.7 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "2" smd rect (at -2.1 -5.5) (size 0.7 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 14 "CS_SD"))
    (pad "3" smd rect (at -1.0 -5.5) (size 0.7 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 11 "MOSI"))
    (pad "4" smd rect (at 0.1 -5.5) (size 0.7 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 2 "VCC_3V3"))
    (pad "5" smd rect (at 1.2 -5.5) (size 0.7 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 13 "SCK"))
    (pad "6" smd rect (at 2.3 -5.5) (size 0.7 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 1 "GND"))
    (pad "7" smd rect (at 3.4 -5.5) (size 0.7 1.2) (layers "F.Cu" "F.Paste" "F.Mask") (net 12 "MISO"))
    (pad "8" smd rect (at 4.5 -5.5) (size 0.7 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
  )

  ; OLED Display Connector (0.96" I2C)
  (footprint "Connector_PinHeader_2.54mm:PinHeader_1x04_P2.54mm" (layer "F.Cu")
    (at 25 50 0)
    (descr "OLED Display I2C")
    (fp_text reference "J6" (at 0 -3) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "OLED" (at 0 3) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" thru_hole circle (at 0 0) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask) (net 2 "VCC_3V3"))
    (pad "2" thru_hole circle (at 2.54 0) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask) (net 1 "GND"))
    (pad "3" thru_hole circle (at 5.08 0) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask) (net 6 "SCL"))
    (pad "4" thru_hole circle (at 7.62 0) (size 1.7 1.7) (drill 1.0) (layers *.Cu *.Mask) (net 5 "SDA"))
  )

  ; RGB LED
  (footprint "LED_SMD:LED_RGB_5050-6" (layer "F.Cu")
    (at 75 50 0)
    (descr "RGB LED 5050")
    (fp_text reference "D1" (at 0 -3) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (fp_text value "RGB_LED" (at 0 3) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" smd rect (at -2.5 1.6) (size 1.4 1.0) (layers "F.Cu" "F.Paste" "F.Mask") (net 18 "LED_R"))
    (pad "2" smd rect (at -2.5 0) (size 1.4 1.0) (layers "F.Cu" "F.Paste" "F.Mask") (net 19 "LED_G"))
    (pad "3" smd rect (at -2.5 -1.6) (size 1.4 1.0) (layers "F.Cu" "F.Paste" "F.Mask") (net 20 "LED_B"))
    (pad "4" smd rect (at 2.5 -1.6) (size 1.4 1.0) (layers "F.Cu" "F.Paste" "F.Mask") (net 2 "VCC_3V3"))
    (pad "5" smd rect (at 2.5 0) (size 1.4 1.0) (layers "F.Cu" "F.Paste" "F.Mask") (net 2 "VCC_3V3"))
    (pad "6" smd rect (at 2.5 1.6) (size 1.4 1.0) (layers "F.Cu" "F.Paste" "F.Mask") (net 2 "VCC_3V3"))
  )

  ; AirShed Logo Silkscreen
  (gr_text "AirShed Intelligence" (at 50 20) (layer "F.SilkS") (effects (font (size 2 2) (thickness 0.3))))
  (gr_text "AirScout-M v1.0" (at 50 23) (layer "F.SilkS") (effects (font (size 1.5 1.5) (thickness 0.2))))
  (gr_text "Breathing Better, Together" (at 50 100) (layer "B.SilkS") (effects (font (size 1 1) (thickness 0.15))))

  ; Power Planes (simplified representation)
  (zone (net 1) (net_name "GND") (layer "In2.Cu") (tstamp 0) (hatch edge 0.508)
    (priority 1)
    (connect_pads (clearance 0.2))
    (min_thickness 0.2)
    (fill yes (arc_segments 32) (thermal_gap 0.5) (thermal_bridge_width 0.5))
    (polygon
      (pts
        (xy 10 10) (xy 90 10) (xy 90 110) (xy 10 110)
      )
    )
  )

  (zone (net 2) (net_name "VCC_3V3") (layer "In1.Cu") (tstamp 0) (hatch edge 0.508)
    (priority 2)
    (connect_pads (clearance 0.2))
    (min_thickness 0.2)
    (fill yes (arc_segments 32) (thermal_gap 0.5) (thermal_bridge_width 0.5))
    (polygon
      (pts
        (xy 15 15) (xy 85 15) (xy 85 55) (xy 15 55)
      )
    )
  )

  ; Thermal vias under ESP32
  (via (at 50 40) (size 0.4) (drill 0.2) (layers "F.Cu" "B.Cu") (net 1))
  (via (at 48 38) (size 0.4) (drill 0.2) (layers "F.Cu" "B.Cu") (net 1))
  (via (at 52 38) (size 0.4) (drill 0.2) (layers "F.Cu" "B.Cu") (net 1))
  (via (at 48 42) (size 0.4) (drill 0.2) (layers "F.Cu" "B.Cu") (net 1))
  (via (at 52 42) (size 0.4) (drill 0.2) (layers "F.Cu" "B.Cu") (net 1))

)
